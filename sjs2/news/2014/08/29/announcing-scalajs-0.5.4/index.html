<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/sjs2/assets/img/scala-js-logo-32.png">

    <title>Scala.js - Announcing Scala.js 0.5.4</title>

    <meta property="og:type" content="article" /><meta property="og:title" content="Announcing Scala.js 0.5.4" /><meta property="og:site_name" content="Scala.js" /><meta property="og:url" content="http://scala-js.org/news/2014/08/29/announcing-scalajs-0.5.4/" /><meta property="og:image" content="http://scala-js.org/assets/img/scala-js-logo-256.png" /><meta property="article:published_time" content="2014-08-29T00:00:00+03:00" /><meta property="article:tag" content="releases" />

    <!-- Bootstrap core CSS -->
    <link href="/sjs2/assets/css/bootstrap.css" rel="stylesheet">
    <link href="/sjs2/assets/css/highlight.css" type="text/css" rel="stylesheet" media="screen,projection"/>

    <!-- Custom styles for this template -->
    <link href="/sjs2/assets/css/style.css" rel="stylesheet">
    <link href="/sjs2/assets/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.rawgit.com/zenorocha/clipboard.js/master/dist/clipboard.min.js"></script>
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<!-- Fixed navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/sjs2/"><img width="20" src="/sjs2/assets/img/scala-js-logo.svg"> Scala.js</a>
    </div>
    <div class="navbar-collapse collapse navbar-right">
      <ul class="nav navbar-nav">
        <li ><a href="/sjs2/doc">DOCUMENTATION</a></li>
        <li ><a href="/sjs2/tutorial">TUTORIALS</a></li>
        <li ><a href="/sjs2/community">COMMUNITY</a></li>
        <li class="active"><a href="/sjs2/news">NEWS</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</div>
<div id="wrap">
<div id="main">
<div id="blue">
    <div class="container">
        <div class="row">
            <h3>Announcing Scala.js 0.5.4</h3>
        </div><!-- /row -->
    </div> <!-- /container -->
</div><!-- /blue -->

<div class="container mtb">
    <div class="row">
        <! -- SINGLE POST -->
        <div class="col-md-12">
            <! -- Blog Post -->
            <a href="/sjs2/news/2014/08/29/announcing-scalajs-0.5.4/"><h3 class="ctitle">Announcing Scala.js 0.5.4</h3></a>

            <p>
                <span class="small">Aug 29, 2014.</span>
            </p>
            <p>We are excited to announce the release of Scala.js 0.5.4!</p>

<p>This release contains various bug fixes and enhancements to both the compiler and the sbt plugin.
<!--more--></p>

<p>Scala.js 0.5.4 is backward binary compatible with older versions of the 0.5.x branch. However, it is <em>not</em> forward binary compatible. This means:</p>

<ul>
  <li>You don’t need to re-publish libraries</li>
  <li>You must upgrade to Scala.js 0.5.4 if any library you depend on uses Scala.js 0.5.4</li>
</ul>

<p>If you choose to re-publish a library, make sure to bump its version.</p>

<p>Please report any issues <a href="https://github.com/scala-js/scala-js/issues">on GitHub</a>.</p>

<h2 id="upgrading-from-053-an-below">Upgrading from 0.5.3 an below</h2>

<p>Simply change the version number in <code>project/plugins.sbt</code>, as usual.</p>

<p>If you use <a href="https://github.com/lihaoyi/utest">uTest</a>, you need to upgrade it to version 0.2.3 or later.
This is due to a binary incompatible change in the sbt plugin.</p>

<h2 id="improvements-in-the-054-release">Improvements in the 0.5.4 release</h2>

<p>For changes introduced in 0.5.0, how to upgrade, getting started etc. have a look at the <a href="/news/2014/06/13/announcing-scalajs-0.5.0/">0.5.0 announcement</a> (see also the announcements for <a href="/news/2014/06/30/announcing-scalajs-0.5.1/">0.5.1</a>, <a href="/news/2014/07/09/announcing-scalajs-0.5.2/">0.5.2</a> and <a href="/news/2014/07/30/announcing-scalajs-0.5.3/">0.5.3</a>).</p>

<h3 id="javascript-export-facilities">JavaScript Export Facilities</h3>

<p>A few improvements have been made to <code>@JSExport</code>-related features, to export Scala.js APIs to JavaScript:</p>

<ul>
  <li><a href="/doc/export-to-javascript.html#JSExportNamed">Export methods with named arguments</a></li>
  <li><a href="/doc/export-to-javascript.html#JSExportAll">Automatically export all public members of a class/object</a></li>
  <li><a href="/doc/export-to-javascript.html#constructor-params">Export fields declared as constructor parameters</a></li>
</ul>

<h3 id="phantomjs">PhantomJS</h3>

<p>The interface to the PhantomJS interpreter has been enhanced with two features:</p>

<ul>
  <li><a href="/doc/sbt/js-envs.html#phantomjs-arguments">Passing command-line arguments to PhantomJS</a></li>
  <li><a href="/doc/sbt/js-envs.html#phantomjs-no-auto-terminate">Configuring PhantomJS not to terminate automatically when the <code>main()</code> method returns</a></li>
  <li>You can use <code>java.lang.System.exit(exitCode)</code> to explicitly terminate the PhantomJS environment</li>
</ul>

<h3 id="conversions">Conversions</h3>

<p>The new object <a href="http://www.scala-js.org/api/scalajs-library/0.5.4/#scala.scalajs.js.JSConverters$">JSConverters</a> provides extension methods to convert between JavaScript collections and Scala collections (maps, sequences and option).</p>

<p><a href="/doc/js-interoperability.html">More information in the documentation</a></p>

<h3 id="source-maps-for-fulloptjs">Source maps for fullOptJS</h3>

<p>Source maps are now generated for <code>fullOptJS</code> as well.</p>

<p>To support this, we have changed the way we integrate the Google Closure Compiler.
Should you experience any regression, please file an issue, and use the following fallback to revert to the old mechanism (which will not generate source maps):</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ScalaJSKeys</span><span class="o">.</span><span class="n">directFullOptJS</span> <span class="o">:=</span> <span class="kc">false</span></code></pre></figure>

<h3 id="cross-versioning">%%% Cross versioning</h3>

<p>The <code>%%%</code> operator used to build library dependencies for Scala.js has been enhanced.
It is now able to determine whether it is used inside a Scala.js project or a Scala/JVM project.
In the latter, it will be equivalent to <code>%%</code>.
This allows to use <code>%%%</code> consistently for cross-compiling projects.</p>

<p><a href="/doc/sbt/depending.html">More information in the documentation</a></p>

<h3 id="auto-detect-whether-the-dom-is-required">Auto-detect whether the DOM is required</h3>

<p>The setting <code>requiresDOM</code> will now default to <code>true</code> if the special <code>RuntimeDOM</code> dependency is listed in the (transitive) <code>jsDependencies</code> of your project.
To specify that your library or program depends on the DOM, use the following setting:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nc">ScalaJSKeys</span><span class="o">.</span><span class="n">jsDependencies</span> <span class="o">+=</span> <span class="n">scala</span><span class="o">.</span><span class="n">scalajs</span><span class="o">.</span><span class="n">sbtplugin</span><span class="o">.</span><span class="nc">RuntimeDOM</span></code></pre></figure>

<p>It is still possible to override this behavior by explicitly setting <code>requiresDOM</code>, as before.</p>

<h3 id="toolsjs">Tools.js</h3>

<p>Our tools API now cross-compiles for Scala/JVM and Scala.js.
It can therefore be used in Scala.js, for example to link and optimize Scala.js IR on the client.</p>

<h4 id="bugfixes">Bugfixes</h4>

<p>The following bugs have been fixed since 0.5.3:</p>

<ul>
  <li><a href="https://github.com/scala-js/scala-js/issues/897">#897</a> fastOptJS crash: Invalid lhs for Assign: This()</li>
  <li><a href="https://github.com/scala-js/scala-js/issues/898">#898</a> PhantomJS polyfill doesn’t work</li>
  <li><a href="https://github.com/scala-js/scala-js/issues/899">#899</a> Compiler should always unbox arguments to reflective calls</li>
  <li><a href="https://github.com/scala-js/scala-js/issues/904">#904</a> Stack overflow in fast optimizer</li>
  <li><a href="https://github.com/scala-js/scala-js/issues/906">#906</a> Assignment to exported var gives “Unhandled type class” warning</li>
  <li><a href="https://github.com/scala-js/scala-js/issues/907">#907</a> fastOptJS crash: statements before Dictionary.delete() in exported functions</li>
  <li><a href="https://github.com/scala-js/scala-js/issues/908">#908</a> Calling Dictionary.delete() with js.Object property throws RuntimeException</li>
  <li><a href="https://github.com/scala-js/scala-js/issues/919">#919</a> sbt: Inspecting does not work with scalaJSSettings</li>
  <li><a href="https://github.com/scala-js/scala-js/issues/920">#920</a> Return type lifting for JSExports fails on RefinedTypes</li>
  <li><a href="https://github.com/scala-js/scala-js/issues/940">#940</a> Compiler crash on strange pattern match</li>
</ul>

            <div class="spacing"></div>
            <nav>
                <ul class="pager">
                    
                    <li class="previous"><a href="/sjs2/news/2014/07/30/announcing-scalajs-0.5.3/"
                                            title="Announcing Scala.js 0.5.3">&larr; Previous</a></li>
                    
                    
                    <li class="next"><a href="/sjs2/news/2014/09/18/announcing-scalajs-0.5.5/"
                                        title="Announcing Scala.js 0.5.5">Next &rarr;</a></li>
                    
                </ul>
            </nav>
        </div>
    </div>
</div>
</div>
</div>
<div id="footerwrap">
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <h4>LEARN</h4>

                <div class="hline-w"></div>
                <a class="grey-text text-lighten-3" href="/sjs2/doc">Documentation</a><br/>
                <a class="grey-text text-lighten-3" href="/sjs2/tutorial">Tutorial</a><br/>
                <a class="grey-text text-lighten-3" href="/sjs2/doc/faq.html">FAQ</a>
            </div>
            <div class="col-md-4">
                <h4>COMMUNITY</h4>

                <div class="hline-w"></div>
                <a class="grey-text text-lighten-3" href="https://gitter.im/scala-js/scala-js">Gitter chat</a><br/>
                <a class="grey-text text-lighten-3" href="http://stackoverflow.com/questions/tagged/scala.js">Stackoverflow</a><br/>
                <a class="grey-text text-lighten-3" href="https://groups.google.com/forum/?fromgroups#!forum/scala-js">Mailing list</a>
            </div>
            <div class="col-md-4">
            </div>
        </div>
    </div>
</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="/sjs2/assets/js/bootstrap.min.js"></script>
<script src="/sjs2/assets/js/highlight.pack.js"></script>
<script src="/sjs2/assets/js/custom.js"></script>

<script type="text/javascript">
$(".show-snippet-link").click(function(e) {
  e.preventDefault();
  var language = $(this).data("language");
  $(".snippet").hide();
  $(".snippet-" + language).show();
  $(".show-snippet-tab").removeClass("active");
  $(this.parentNode).addClass("active");
});
</script>



</body>
</html>