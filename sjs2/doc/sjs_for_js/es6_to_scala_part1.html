<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/sjs2/assets/img/scala-js-logo-32.png">

    <title>Scala.js - From ES6 to Scala: Basics</title>

    <!-- Bootstrap core CSS -->
    <link href="/sjs2/assets/css/bootstrap.css" rel="stylesheet">
    <link href="/sjs2/assets/css/highlight.css" type="text/css" rel="stylesheet" media="screen,projection"/>

    <!-- Custom styles for this template -->
    <link href="/sjs2/assets/css/style.css" rel="stylesheet">
    <link href="/sjs2/assets/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.rawgit.com/zenorocha/clipboard.js/master/dist/clipboard.min.js"></script>
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<!-- Fixed navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/sjs2/">Scala.js</a>
    </div>
    <div class="navbar-collapse collapse navbar-right">
      <ul class="nav navbar-nav">
        <li class="active"><a href="/sjs2/doc">DOCUMENTATION</a></li>
        <li ><a href="/sjs2/tutorial">TUTORIALS</a></li>
        <li ><a href="/sjs2/community">COMMUNITY</a></li>
        <li ><a href="/sjs2/news">NEWS</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</div>
<div id="wrap">
<div id="main">
<div id="blue">
    <div class="container">
        <div class="row">
            <h3>From ES6 to Scala: Basics</h3>
        </div><!-- /row -->
    </div> <!-- /container -->
</div><!-- /blue -->

<div class="container mtb">
    <div class="row">
        <div class="col-md-9">
            <p>This is a short introduction to the Scala language for those familiar with JavaScript ES6. We are comparing
to ES6 instead of earlier versions of JavaScript because ES6 contains many nice features and syntax changes that bring
it closer to Scala.</p>

<p>Best way to experiment with Scala is to use a Scala <a href="https://lihaoyi.github.io/Ammonite/">REPL</a>, or the worksheet
functionality in <a href="https://github.com/scala-ide/scala-worksheet/wiki/Getting-Started">Scala
IDE</a> or <a href="https://confluence.jetbrains.com/display/IntelliJIDEA/Working+with+Scala+Worksheet">IntelliJ
IDEA</a>.</p>

<p>For more reading check out <a href="http://scala-exercises.47deg.com/index.html">Scala Exercises</a>, <a href="https://twitter.github.io/scala_school/">Scala
School</a> and official <a href="http://docs.scala-lang.org/tutorials/">Scala Tutorials</a>.</p>

<h2 id="scala-language">Scala language</h2>

<p>Scala is a modern multi-paradigm programming language designed to express common programming patterns in a concise,
elegant, and type-safe way. It smoothly integrates features of <em>object-oriented</em> and <em>functional languages</em>. Scala is a
pure object-oriented language in the sense that every value is an object. It is also a functional language in the sense
that every function is a value.</p>

<p>The biggest difference to JavaScript is that Scala is <em>statically typed</em>. This means that it is equipped with an
expressive type system that enforces statically that abstractions are used in a safe and coherent manner, meaning the
compiler will catch many typical programming errors. If you have used other statically typed languages like Java or C#
before you may have noticed that type definitions are all over the place. This is not true with Scala where the compiler
can <em>infer</em> most of the types automatically.</p>

<h2 id="variables">Variables</h2>

<p>Let’s start with something simple, variables. Both Scala and ES6 support mutable and immutable variables.</p>

<div class="row">
<div class="col-md-6"><h6 class="code-block-header">ES6</h6><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// mutable variable</span>
<span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="c1">// immutable variable</span>
<span class="kr">const</span> <span class="nx">y</span> <span class="o">=</span> <span class="s2">&quot;Constant&quot;</span><span class="p">;</span></code></pre></div>
</div>
        
<div class="col-md-6"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="c1">// mutable variable</span>
<span class="k">var</span> <span class="n">x</span> <span class="k">=</span> <span class="mi">5</span>
<span class="c1">// immutable variable</span>
<span class="k">val</span> <span class="n">y</span> <span class="k">=</span> <span class="s">&quot;Constant&quot;</span></code></pre></div>
</div>
</div>

<p>Note that the Scala compiler automatically infers the types for <code>x</code> and <code>y</code> from the values that are assigned. In Scala
both mutable and immutable variables must always be initialized when declared.</p>

<h2 id="primitive-types">Primitive types</h2>

<p>Scala defines several primitive types, of which most have corresponding types in JavaScript as well. See the table below.</p>

<table class="table table-bordered">
  <thead>
    <tr><th>Scala type</th><th>JavaScript type</th><th>Notes</th></tr>
  </thead>
  <tbody>
    <tr><td>String</td><td>string</td><td></td></tr>
    <tr><td>Boolean</td><td>boolean</td><td></td></tr>
    <tr><td>Char</td><td><i>N/A</i></td><td>16-bit Unicode code point</td></tr>
    <tr><td>Byte</td><td>number</td><td>integer, range (-128, 127)</td></tr>
    <tr><td>Short</td><td>number</td><td>integer, range (-32768, 32767)</td></tr>
    <tr><td>Int</td><td>number</td><td>integer, range (-2147483648, 2147483647)</td></tr>
    <tr><td>Long</td><td><i>N/A</i></td><td>64-bit integer</td></tr>
    <tr><td>Float</td><td>number</td><td>32-bit floating point</td></tr>
    <tr><td>Double</td><td>number</td><td>64-bit floating point, fully equivalent to JS number</td></tr>
    <tr><td>Unit</td><td>undefined</td><td></td></tr>
    <tr><td>Null</td><td>null</td><td></td></tr>
  </tbody>
</table>

<p>In JavaScript all numbers are represented as 64-bit floating point internally, which may give surprising results when
making some calculations. In Scala calculations are always performed using the types of operands, so dividing an <code>Int</code>
with another <code>Int</code>, the result is rounded to an <code>Int</code>.</p>

<div class="row">
<div class="col-md-6"><h6 class="code-block-header">ES6</h6><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">// == 1.6666666666666667</span></code></pre></div>
</div>
        
<div class="col-md-6"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">x</span> <span class="k">=</span> <span class="mi">5</span> <span class="o">/</span> <span class="mi">3</span> <span class="c1">// == 1</span>
<span class="k">val</span> <span class="n">y</span> <span class="k">=</span> <span class="mf">5.0</span> <span class="o">/</span> <span class="mi">3</span> <span class="c1">// == 1.6666666666666667</span>
<span class="k">val</span> <span class="n">z</span> <span class="k">=</span> <span class="mi">5</span> <span class="o">/</span> <span class="mf">3.0</span> <span class="c1">// == 1.6666666666666667</span></code></pre></div>
</div>
</div>

<p>Because in JavaScript every number is a <code>number</code> there is no need to do type conversions. In Scala, however, it is an
error if you try to assign a higher precision value to a lower precision variable. You must explicitly convert it using
an appropriate function.</p>

<div class="row">
<div class="col-md-9"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">x</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mf">3.5</span> <span class="c1">// ERROR!</span>
<span class="k">val</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="mi">3</span> <span class="c1">// Ok!</span>
<span class="k">val</span> <span class="n">f</span><span class="k">:</span> <span class="kt">Float</span> <span class="o">=</span> <span class="mf">3.0</span> <span class="c1">// ERROR! 3.0f would be ok</span>
<span class="k">val</span> <span class="n">z</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mf">3.5</span><span class="o">.</span><span class="n">toInt</span> <span class="c1">// Ok!</span>
<span class="k">val</span> <span class="n">a</span><span class="k">:</span> <span class="kt">Byte</span> <span class="o">=</span> <span class="n">z</span> <span class="c1">// ERROR!</span>
<span class="k">val</span> <span class="n">b</span><span class="k">:</span> <span class="kt">Byte</span> <span class="o">=</span> <span class="n">z</span><span class="o">.</span><span class="n">toByte</span> <span class="c1">// Ok!</span></code></pre></div>
</div>
</div>

<p>Actually the numeric types <code>Int</code>, <code>Short</code>, <code>Byte</code> and <code>Float</code> also exist in JavaScript if you use <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Typed_arrays"><em>typed
arrays</em></a>. These are not commonly used in regular
JavaScript code, but for some specific purposes, like WebGL, they are required.</p>

<h2 id="functions">Functions</h2>

<p>Defining functions is quite similar in both languages. You just replace the <code>function</code> keyword with <code>def</code> and add types
for function parameters and return type. In Scala you can omit the <code>return</code> keyword as the last expression in the
function is automatically used as the return value. Return type is usually automatically inferred by the Scala compiler
(when not using <code>return</code>), but it is good practice to define it to help catch potential type errors.</p>

<div class="row">
<div class="col-md-6"><h6 class="code-block-header">ES6</h6><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">mult</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">return</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>
</div>
        
<div class="col-md-6"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">def</span> <span class="n">mult</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Double</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Double</span><span class="o">)</span><span class="k">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span></code></pre></div>
</div>
</div>

<h4 id="anonymous-functions">Anonymous functions</h4>

<p>In functional programming you quite often need to provide a function as a parameter, but you don’t need it elsewhere so
it can be anonymous. Both languages support the nice “fat arrow” notation for defining anonymous functions conveniently.</p>

<div class="row">
<div class="col-md-6"><h6 class="code-block-header">ES6</h6><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">f</span> <span class="o">=</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">p</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Fox&quot;</span><span class="p">,</span> <span class="s2">&quot;jumped&quot;</span><span class="p">,</span> <span class="s2">&quot;over&quot;</span><span class="p">,</span> <span class="s2">&quot;me&quot;</span><span class="p">];</span>
<span class="kr">const</span> <span class="nx">l</span> <span class="o">=</span> <span class="nx">p</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">s</span> <span class="o">=&gt;</span> <span class="nx">s</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="c1">// == 15</span></code></pre></div>
</div>
        
<div class="col-md-6"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">f</span> <span class="k">=</span> <span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Double</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Double</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
         
<span class="k">val</span> <span class="n">p</span> <span class="k">=</span> <span class="nc">Array</span><span class="o">(</span><span class="s">&quot;Fox&quot;</span><span class="o">,</span> <span class="s">&quot;jumped&quot;</span><span class="o">,</span> <span class="s">&quot;over&quot;</span><span class="o">,</span> <span class="s">&quot;me&quot;</span><span class="o">)</span>
<span class="k">val</span> <span class="n">l</span> <span class="k">=</span> <span class="n">p</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="n">s</span> <span class="k">=&gt;</span> <span class="n">s</span><span class="o">.</span><span class="n">length</span><span class="o">)</span>
  <span class="o">.</span><span class="n">foldLeft</span><span class="o">(</span><span class="mi">0</span><span class="o">)((</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">)</span> <span class="c1">// == 15</span></code></pre></div>
</div>
</div>

<h4 id="default-named-and-rest-parameters">Default, named and rest parameters</h4>

<p>You can also define default values for parameters if they are not supplied when the function is called. For variable
number of parameters, you can access those as a <code>Seq</code>. Named parameters work just as you would expect in Scala, whereas
in ES6 you need to supply them with the object notation.</p>

<div class="row">
<div class="col-md-6"><h6 class="code-block-header">ES6</h6><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// default value</span>
<span class="kd">function</span> <span class="nx">mult</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="o">=</span> <span class="mf">42.0</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">y</span><span class="p">;</span> <span class="p">}</span>

<span class="c1">// variable number of parameters</span>
<span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">first</span><span class="p">,</span> <span class="p">...</span><span class="nx">rest</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">first</span> <span class="o">+</span> <span class="nx">rest</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">sum</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span> <span class="c1">// == 15</span>

<span class="c1">// named parameters</span>
<span class="kd">function</span> <span class="nx">vec</span><span class="p">({</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">z</span> <span class="o">=</span> <span class="mi">0</span><span class="p">})</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nx">Vec</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">);</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">v</span> <span class="o">=</span> <span class="nx">vec</span><span class="p">({</span><span class="nx">x</span><span class="o">:</span> <span class="mi">8</span><span class="p">,</span> <span class="nx">z</span><span class="o">:</span> <span class="mi">42</span><span class="p">});</span> <span class="c1">// Vec(8, 0, 42)</span></code></pre></div>
</div>

<div class="col-md-6"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="c1">// default value</span>
<span class="k">def</span> <span class="n">mult</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Double</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="mf">42.0</span><span class="o">)</span><span class="k">:</span> <span class="kt">Double</span> <span class="o">=</span>
  <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>


<span class="c1">// variable number of parameters</span>
<span class="k">def</span> <span class="n">sum</span><span class="o">(</span><span class="n">first</span><span class="k">:</span> <span class="kt">Double</span><span class="o">,</span> <span class="n">rest</span><span class="k">:</span> <span class="kt">Double*</span><span class="o">)</span><span class="k">:</span> <span class="kt">Double</span> <span class="o">=</span>
  <span class="n">first</span> <span class="o">+</span> <span class="n">rest</span><span class="o">.</span><span class="n">foldLeft</span><span class="o">(</span><span class="mf">0.0</span><span class="o">)((</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">)</span> 

<span class="k">val</span> <span class="n">s</span> <span class="k">=</span> <span class="n">sum</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span> <span class="c1">// == 15</span>

<span class="c1">// named parameters (works directly)</span>
<span class="k">def</span> <span class="n">vec</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">z</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">0</span><span class="o">)</span><span class="k">:</span> <span class="kt">Vec</span> <span class="o">=</span>
  <span class="k">new</span> <span class="nc">Vec</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">,</span> <span class="n">z</span><span class="o">)</span>
  
<span class="k">val</span> <span class="n">v</span> <span class="k">=</span> <span class="n">vec</span><span class="o">(</span><span class="mi">8</span><span class="o">,</span> <span class="n">z</span> <span class="k">=</span> <span class="mi">42</span><span class="o">)</span> <span class="c1">// Vec(8, 0, 42)</span></code></pre></div>
</div>
</div>

<p>Again, Scala compiler can infer all the required types in the code above, including the parameters for the anonymous
function given to the <code>foldLeft</code> function.</p>

<h2 id="if-while-for-match-control-structures"><code>if</code>, <code>while</code>, <code>for</code>, <code>match</code> control structures</h2>

<p>As you would expect, Scala has the regular <code>if-else</code> and <code>while</code> control structures found in most programming
languages. The big difference to JavaScript is that <code>if</code> statements are actually expressions returning a value. In
JavaScript you have the special <code>a ? b : c</code> construct to achieve the same result.</p>

<div class="row">
<div class="col-md-6"><h6 class="code-block-header">ES6</h6><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="p">(</span><span class="nx">name</span> <span class="o">===</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span></code></pre></div>
</div>
        
<div class="col-md-6"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">res</span> <span class="k">=</span> <span class="k">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="n">isEmpty</span><span class="o">)</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">1</span></code></pre></div>
</div>
</div>

<p>The <code>for</code> construct in Scala is quite different from the for-loop in JavaScript and also much more powerful. You can use
it to iterate over numerical ranges or collections in both languages:</p>

<div class="row">
<div class="col-md-6"><h6 class="code-block-header">ES6</h6><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
  <span class="nx">x</span> <span class="o">+=</span> <span class="nx">i</span><span class="o">*</span><span class="nx">i</span><span class="p">;</span>
  
<span class="kr">const</span> <span class="nx">p</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Fox&quot;</span><span class="p">,</span> <span class="s2">&quot;jumped&quot;</span><span class="p">,</span> <span class="s2">&quot;over&quot;</span><span class="p">,</span> <span class="s2">&quot;me&quot;</span><span class="p">];</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">s</span> <span class="nx">of</span> <span class="nx">p</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="err">`</span><span class="nx">Word</span> <span class="nx">$</span><span class="p">{</span><span class="nx">s</span><span class="p">}</span><span class="err">`</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>
</div>
        
<div class="col-md-6"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">var</span> <span class="n">x</span> <span class="k">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="o">(</span><span class="n">i</span> <span class="k">&lt;-</span> <span class="mi">0</span> <span class="n">until</span> <span class="mi">100</span><span class="o">)</span>
  <span class="n">x</span> <span class="o">+=</span> <span class="n">i</span><span class="o">*</span><span class="n">i</span>
  
<span class="k">val</span> <span class="n">p</span> <span class="k">=</span> <span class="nc">Array</span><span class="o">(</span><span class="s">&quot;Fox&quot;</span><span class="o">,</span> <span class="s">&quot;jumped&quot;</span><span class="o">,</span> <span class="s">&quot;over&quot;</span><span class="o">,</span> <span class="s">&quot;me&quot;</span><span class="o">)</span>
<span class="k">for</span> <span class="o">(</span><span class="n">s</span> <span class="k">&lt;-</span> <span class="n">p</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="n">s</span><span class="s">&quot;Word $s&quot;</span><span class="o">)</span>
<span class="o">}</span></code></pre></div>
</div>
</div>

<p>In case you have nested for-loops, you can easily combine them into one <em>for-comprehension</em> in Scala. Inside the <code>for</code>
you can even filter using <code>if</code> expressions. In Scala a <em>for-comprehension</em> is just syntactic sugar for a series of
<code>flatMap</code>, <code>map</code> and <code>withFilter</code> calls making it <em>very</em> handy when dealing with Scala collections.</p>

<div class="row">
<div class="col-md-6"><h6 class="code-block-header">ES6</h6><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">findPairs</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span> <span class="nx">sum</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="nx">j</span> <span class="o">==</span> <span class="nx">sum</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="err">`</span><span class="nx">Found</span> <span class="nx">pair</span> <span class="nx">$</span><span class="p">{</span><span class="nx">i</span><span class="p">},</span> <span class="nx">$</span><span class="p">{</span><span class="nx">j</span><span class="p">}</span><span class="err">`</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="nx">findPairs</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">31</span><span class="p">);</span></code></pre></div>
</div>
        
<div class="col-md-6"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">def</span> <span class="n">findPairs</span><span class="o">(</span><span class="n">n</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">sum</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
  <span class="k">for</span> <span class="o">{</span> 
    <span class="n">i</span> <span class="k">&lt;-</span> <span class="mi">0</span> <span class="n">until</span> <span class="n">n</span>
    <span class="n">j</span> <span class="k">&lt;-</span> <span class="n">i</span> <span class="n">until</span> <span class="n">n</span> <span class="k">if</span> <span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="o">==</span> <span class="n">sum</span> 
  <span class="o">}</span> <span class="n">println</span><span class="o">(</span><span class="n">s</span><span class="s">&quot;Found pair $i, $j&quot;</span><span class="o">)</span>
<span class="o">}</span>
<span class="n">findPairs</span><span class="o">(</span><span class="mi">20</span><span class="o">,</span> <span class="mi">31</span><span class="o">)</span></code></pre></div>
</div>
</div>

<p>The code above also serves as an example for <em>string interpolation</em> (in Scala) and <em>template strings</em> (in ES6). Both
make it easier to construct strings using variables or function calls. In Scala you don’t need to enclose the variable
in {} if it’s just a simple variable name. For more complex cases you’ll need to use the <code>s"Length = ${data.length}"</code>
syntax.</p>

<p>Finally the <code>match</code> construct provides <em>pattern matching</em> capabilities in Scala. Pattern matching is a complex topic
covered in more detail in the advanced section of this article, so here we just focus on the simple use cases like
replacing JavaScript <code>switch</code>/<code>case</code> with it.</p>

<div class="row">
<div class="col-md-6"><h6 class="code-block-header">ES6</h6><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">animal</span> <span class="o">=</span> <span class="s2">&quot;Dog&quot;</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">description</span><span class="p">;</span>
<span class="k">switch</span><span class="p">(</span><span class="nx">animal</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">case</span> <span class="s2">&quot;Cat&quot;</span><span class="o">:</span>
  <span class="k">case</span> <span class="s2">&quot;Lion&quot;</span><span class="o">:</span>
  <span class="k">case</span> <span class="s2">&quot;Tiger&quot;</span><span class="o">:</span>
    <span class="nx">description</span> <span class="o">=</span> <span class="s2">&quot;It&#39;s feline!&quot;</span><span class="p">;</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">case</span> <span class="s2">&quot;Dog&quot;</span><span class="o">:</span>
  <span class="k">case</span> <span class="s2">&quot;Wolf&quot;</span><span class="o">:</span>
    <span class="nx">description</span> <span class="o">=</span> <span class="s2">&quot;It&#39;s canine!&quot;</span><span class="p">;</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">default</span><span class="o">:</span>
    <span class="nx">description</span> <span class="o">=</span> <span class="s2">&quot;It&#39;s something else&quot;</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">description</span><span class="p">);</span></code></pre></div>
</div>
        
<div class="col-md-6"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">animal</span> <span class="k">=</span> <span class="s">&quot;Dog&quot;</span>
<span class="k">val</span> <span class="n">description</span> <span class="k">=</span> <span class="n">animal</span> <span class="k">match</span> <span class="o">{</span>
  <span class="k">case</span> <span class="s">&quot;Cat&quot;</span> <span class="o">|</span> <span class="s">&quot;Lion&quot;</span> <span class="o">|</span> <span class="s">&quot;Tiger&quot;</span> <span class="k">=&gt;</span>
    <span class="s">&quot;It&#39;s feline!&quot;</span>
  <span class="k">case</span> <span class="s">&quot;Dog&quot;</span> <span class="o">|</span> <span class="s">&quot;Wolf&quot;</span> <span class="k">=&gt;</span>
    <span class="s">&quot;It&#39;s canine!&quot;</span>
  <span class="k">case</span> <span class="k">_</span> <span class="k">=&gt;</span>
    <span class="s">&quot;It&#39;s something else&quot;</span>
<span class="o">}</span>
<span class="n">println</span><span class="o">(</span><span class="n">description</span><span class="o">)</span></code></pre></div>
</div>
</div>

<p>In Scala you can use the <code>|</code>-operator to match multiple choices and there is no need (nor support) for <code>break</code>, as cases
never fall through like they do in JavaScript. For the default case, use the ubiquitous <code>_</code> syntax (it has many many
more uses in Scala!) As with <code>if</code>, a <code>match</code> is an expression returning a value that you can directly assign to a
variable.</p>

<h2 id="classes">Classes</h2>

<p>Being an object-oriented language, Scala naturally supports classes with inheritance. In addition to basic classes Scala
also has:</p>

<ul>
  <li><code>case class</code>es for conveniently storing data</li>
  <li><code>object</code>s for singletons</li>
  <li><code>trait</code>s for defining interfaces and mixins</li>
</ul>

<p>A simple class hierarchy can be achieved in both languages.</p>

<div class="row">
<div class="col-md-6"><h6 class="code-block-header">ES6</h6><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">class</span> <span class="nx">Shape</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
  <span class="p">}</span>
  
  <span class="nx">move</span><span class="p">(</span><span class="nx">dx</span><span class="p">,</span> <span class="nx">dy</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">+=</span> <span class="nx">dx</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">+=</span> <span class="nx">dy</span><span class="p">;</span>
  <span class="p">}</span>
  
  <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="err">`</span><span class="nx">Shape</span> <span class="nx">at</span> <span class="nx">$</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="p">},</span> <span class="nx">$</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="p">}</span><span class="err">`</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Circle</span> <span class="kr">extends</span> <span class="nx">Shape</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">r</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">super</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="nx">r</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="err">`</span><span class="nx">Circle</span> <span class="nx">at</span> <span class="nx">$</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="p">},</span> <span class="nx">$</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="p">}</span> <span class="kd">with</span> <span class="nx">radius</span> <span class="nx">$</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">r</span><span class="p">}</span><span class="err">`</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">c</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Circle</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">42</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">r</span><span class="p">;</span> <span class="c1">// == 42</span></code></pre></div>
</div>
        
<div class="col-md-6"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="c1">// use var to make coordinates mutable</span>
<span class="k">abstract</span> <span class="k">class</span> <span class="nc">Shape</span><span class="o">(</span><span class="k">var</span> <span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="k">var</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">move</span><span class="o">(</span><span class="n">dx</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">dy</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="n">dx</span>
    <span class="n">y</span> <span class="o">+=</span> <span class="n">dy</span>
  <span class="o">}</span>
  
  <span class="k">def</span> <span class="n">draw</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">println</span><span class="o">(</span><span class="n">s</span><span class="s">&quot;Shape at $x, $y&quot;</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span>
  
<span class="c1">// r is immutable but accessible outside class  </span>
<span class="k">class</span> <span class="nc">Circle</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="k">val</span> <span class="n">r</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> 
  <span class="k">extends</span> <span class="nc">Shape</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">override</span> <span class="k">def</span> <span class="n">draw</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">println</span><span class="o">(</span><span class="n">s</span><span class="s">&quot;Circle at $x, $y with radius $r&quot;</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span>  

<span class="k">val</span> <span class="n">c</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Circle</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">42</span><span class="o">)</span>
<span class="k">val</span> <span class="n">r</span> <span class="k">=</span> <span class="n">c</span><span class="o">.</span><span class="n">r</span> <span class="c1">// == 42</span></code></pre></div>
</div>
</div>

<p>Even though Scala has the concept of <code>this</code> it is not that often used in your own code.</p>

<h4 id="case-classes">Case classes</h4>

<p>When reading Scala application code you will probably encounter more <code>case class</code>es than regular <code>class</code>es. This is due
to their special features that make them so useful. First of all you don’t need to use <code>new</code> keyword when instantiating
them and all constructor parameters are automatically available as public fields. Case classes also have default
implementations for <code>toString</code> and equality making them convenient to use as data objects.</p>

<p>JavaScript doesn’t quite have a similar construct, but whenever you would use the regular object notation, consider
using a case class instead.</p>

<div class="row">
<div class="col-md-6"><h6 class="code-block-header">ES6</h6><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span><span class="nx">first</span><span class="o">:</span> <span class="s2">&quot;James&quot;</span><span class="p">,</span> <span class="nx">last</span><span class="o">:</span> <span class="s2">&quot;Bond&quot;</span><span class="p">};</span></code></pre></div>
</div>
        
<div class="col-md-6"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">case</span> <span class="k">class</span> <span class="nc">Person</span><span class="o">(</span><span class="n">first</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">last</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span>

<span class="k">val</span> <span class="n">person</span> <span class="k">=</span> <span class="nc">Person</span><span class="o">(</span><span class="s">&quot;James&quot;</span><span class="o">,</span> <span class="s">&quot;Bond&quot;</span><span class="o">)</span></code></pre></div>
</div>
</div>

<p>Case classes enforce type safety and prevent constructing invalid objects with missing fields.</p>

<p>Scala compiler automatically generates a proper <code>equals</code> method for case classes, making comparing them trivial. In ES6
you would typically go for a library like <a href="https://lodash.com/docs#isEqual">lodash</a> to avoid writing the complex
comparison code yourself.</p>

<div class="row">
<div class="col-md-6"><h6 class="code-block-header">ES6</h6><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">o1</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">x</span><span class="o">:</span> <span class="s2">&quot;test&quot;</span><span class="p">};</span>
<span class="kr">const</span> <span class="nx">o2</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">x</span><span class="o">:</span> <span class="s2">&quot;test&quot;</span><span class="p">};</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">o1</span> <span class="o">!=</span> <span class="nx">o2</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// this doesn&#39;t work as expected</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;They are not equal!&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">_</span><span class="p">.</span><span class="nx">isEqual</span><span class="p">(</span><span class="nx">o1</span><span class="p">,</span> <span class="nx">o2</span><span class="p">))</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;They are equal!&quot;</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>
</div>
        
<div class="col-md-6"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">case</span> <span class="k">class</span> <span class="nc">AX</span><span class="o">(</span><span class="n">a</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">x</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span>

<span class="k">val</span> <span class="n">o1</span> <span class="k">=</span> <span class="nc">AX</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">&quot;test&quot;</span><span class="o">)</span>
<span class="k">val</span> <span class="n">o2</span> <span class="k">=</span> <span class="nc">AX</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">&quot;test&quot;</span><span class="o">)</span>
<span class="k">if</span> <span class="o">(</span><span class="n">o1</span> <span class="o">==</span> <span class="n">o2</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="s">&quot;They are equal!&quot;</span><span class="o">)</span>
<span class="o">}</span></code></pre></div>
</div>
</div>

<p>Fields in case classes are immutable by default (unless you define them with <code>var</code> modifier) so you cannot make changes
to instances. Instead of modifying the instance you make a copy and modify one or more fields during the copy. Scala
provides a suitable <code>copy</code> function for each case class automatically. In ES6 you can use <code>Object.assign</code> to achieve the
same result.</p>

<div class="row">
<div class="col-md-6"><h6 class="code-block-header">ES6</h6><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">o1</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">x</span><span class="o">:</span> <span class="s2">&quot;test&quot;</span><span class="p">};</span>

<span class="c1">// start with empty object to prevent </span>
<span class="c1">// modification of o1</span>
<span class="kr">const</span> <span class="nx">o2</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="nx">o1</span><span class="p">,</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">42</span><span class="p">});</span></code></pre></div>
</div>
        
<div class="col-md-6"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">case</span> <span class="k">class</span> <span class="nc">AX</span><span class="o">(</span><span class="n">a</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">x</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span>

<span class="k">val</span> <span class="n">o1</span> <span class="k">=</span> <span class="nc">AX</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">&quot;test&quot;</span><span class="o">)</span>
<span class="k">val</span> <span class="n">o2</span> <span class="k">=</span> <span class="n">o1</span><span class="o">.</span><span class="n">copy</span><span class="o">(</span><span class="n">a</span> <span class="k">=</span> <span class="mi">42</span><span class="o">)</span></code></pre></div>
</div>
</div>

<p>Finally case classes can be used nicely in <em>pattern matching</em> which is covered in the advanced section.</p>

<h4 id="objects">Objects</h4>

<p>An <code>object</code> is a special class with only a single instance: a singleton. JavaScript also has a singleton design pattern
(or actually several) even though the language itself does not have direct support for the concept. Singletons are
useful for putting stuff in a shared namespace without polluting the global scope. Scala singletons are lazy in the
sense that they are initialized only when first accessed. In JavaScript you can achieve lazyness, but typically it’s
not done as it makes things complicated.</p>

<div class="row">
<div class="col-md-6"><h6 class="code-block-header">ES6</h6><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">RandomGen</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">_privateMethod</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;I am private&quot;</span><span class="p">);</span>
    <span class="p">},</span>
    
    <span class="nx">_rnd</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="p">},</span>
    
    <span class="nx">publicMethod</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;The public can see me!&quot;</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_privateMethod</span><span class="p">();</span>
    <span class="p">},</span>
    
    <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;RandomGen&quot;</span><span class="p">,</span>
    
    <span class="nx">getRandomNumber</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_rnd</span><span class="p">()</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RandomGen</span><span class="p">.</span><span class="nx">getRandomNumber</span><span class="p">();</span></code></pre></div>
</div>
        
<div class="col-md-6"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">scala.util.Random</span>

<span class="k">object</span> <span class="nc">RandomGen</span> <span class="o">{</span>
  <span class="k">private</span> <span class="k">def</span> <span class="n">privateMethod</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">println</span><span class="o">(</span><span class="s">&quot;I am private&quot;</span><span class="o">)</span>
  <span class="o">}</span>
  
  <span class="k">private</span> <span class="k">val</span> <span class="n">rnd</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Random</span><span class="o">()</span>
  
  <span class="k">def</span> <span class="n">publicMethod</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">println</span><span class="o">(</span><span class="s">&quot;The public can see me!&quot;</span><span class="o">)</span>
    <span class="n">privateMethod</span><span class="o">()</span>
  <span class="o">}</span>
  
  <span class="k">val</span> <span class="n">name</span> <span class="k">=</span> <span class="s">&quot;RandomGen&quot;</span>
  
  <span class="k">def</span> <span class="n">getRandomNumber</span><span class="k">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="n">rnd</span><span class="o">.</span><span class="n">nextDouble</span><span class="o">()</span>
<span class="o">}</span>

<span class="k">val</span> <span class="n">r</span> <span class="k">=</span> <span class="nc">RandomGen</span><span class="o">.</span><span class="n">getRandomNumber</span></code></pre></div>
</div>
</div>

<p>As you can see, defining singleton objects in Scala is quite trivial thanks to the native support in the language.</p>

<p>Another common use for <code>object</code>s in Scala is using them as <em>companion objects</em> for classes to store static variables
and methods shared by all instances of the class.</p>

<h4 id="traits">Traits</h4>

<p>Scala <code>trait</code>s are similar to the mixin design pattern in JavaScript by allowing developer to define behaviors for class
composition. Because of Scala’s strict type system, traits are commonly used to describe common <em>interfaces</em> for a group
of implementation classes. JavaScript itself has no need for interfaces, but some extensions like TypeScript support
them for the same purpose as Scala.</p>

<div class="row">
<div class="col-md-6"><h6 class="code-block-header">ES6</h6><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">class</span> <span class="nx">Circle</span> <span class="kr">extends</span> <span class="nx">Shape</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">r</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">super</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="nx">r</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="err">`</span><span class="nx">Circle</span> <span class="nx">at</span> <span class="nx">$</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="p">},</span> <span class="nx">$</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="p">}</span> <span class="kd">with</span> <span class="nx">radius</span> <span class="nx">$</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">r</span><span class="p">}</span><span class="err">`</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">Clickable</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">onClick</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Clicked!&quot;</span><span class="p">);</span> <span class="p">}</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">ClickableCircle</span> <span class="kr">extends</span> <span class="nx">Circle</span> <span class="p">{}</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">ClickableCircle</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="nx">Clickable</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">cc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ClickableCircle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">42</span><span class="p">);</span>
<span class="nx">cc</span><span class="p">.</span><span class="nx">onClick</span><span class="p">();</span></code></pre></div>
</div>
        
<div class="col-md-6"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">class</span> <span class="nc">Circle</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="k">val</span> <span class="n">r</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> 
  <span class="k">extends</span> <span class="nc">Shape</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">override</span> <span class="k">def</span> <span class="n">draw</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">println</span><span class="o">(</span><span class="n">s</span><span class="s">&quot;Circle at $x, $y with radius $r&quot;</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span>  

<span class="k">trait</span> <span class="nc">Clickable</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">onClick</span><span class="o">()</span> <span class="o">{</span> <span class="n">println</span><span class="o">(</span><span class="s">&quot;Clicked!&quot;</span><span class="o">)</span> <span class="o">}</span>
<span class="o">}</span>

<span class="k">class</span> <span class="nc">ClickableCircle</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">r</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> 
  <span class="k">extends</span> <span class="nc">Circle</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">,</span> <span class="n">r</span><span class="o">)</span> <span class="k">with</span> <span class="nc">Clickable</span>

<span class="k">val</span> <span class="n">cc</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">ClickableCircle</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">42</span><span class="o">)</span>
<span class="n">cc</span><span class="o">.</span><span class="n">onClick</span><span class="o">()</span></code></pre></div>
</div>
</div>

<p>Note that there are many ways for defining mixins in JavaScript, using <code>Object.assign</code> is just one of them supported by
ES6.</p>

<h2 id="option-the-type-safe-undefined"><code>Option</code>, the type safe <code>undefined</code></h2>

<p>The notorious <code>undefined</code> type in JavaScript can be a blessing or a curse. On the other hand it makes life easy by
allowing you to drop function parameters or leave variables undefined. But then it also masks many errors and makes
you write extra code to check for <code>undefined</code>. Quite often <code>undefined</code> is used to make a distinction between an
existing value (of any type) and a missing value.</p>

<p>Scala doesn’t have <code>undefined</code> (it does have <code>null</code> but its use is discouraged), but instead it has an 
<a target="scaladoc" href="http://www.scala-lang.org/api/current/#scala.Option"><code>Option</code></a> trait for representing optional values. In Scala.js the <code>undefined</code> type exists to support
interoperability with JS libraries, but even there it is recommended to use <code>Option</code> whenever possible.</p>

<p><code>Option[A]</code> is a container for an optional value of type <code>A</code>. If the value of type <code>A</code> is present, the <code>Option[A]</code> is an
instance of <code>Some[A]</code>, containing the present value of type <code>A</code>. If the value is absent, the <code>Option[A]</code> is the object
<code>None</code>.</p>

<div class="row">
<div class="col-md-6"><h6 class="code-block-header">ES6</h6><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">log</span><span class="p">(</span><span class="nx">msg</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">s</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">context</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span>
    <span class="nx">s</span> <span class="o">=</span> <span class="err">`</span><span class="p">[</span><span class="nx">$</span><span class="p">{</span><span class="nx">context</span><span class="p">}]</span> <span class="nx">$</span><span class="p">{</span><span class="nx">msg</span><span class="p">}</span><span class="err">`</span><span class="p">;</span>
  <span class="k">else</span> 
    <span class="nx">s</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">;</span>  
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>
<span class="p">};</span>

<span class="c1">// produces: First message</span>
<span class="nx">log</span><span class="p">(</span><span class="s2">&quot;First message&quot;</span><span class="p">);</span> 
<span class="c1">// produces: [debug] Second message</span>
<span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Second message&quot;</span><span class="p">,</span> <span class="s2">&quot;debug&quot;</span><span class="p">);</span></code></pre></div>
</div>
        
<div class="col-md-6"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">def</span> <span class="n">log</span><span class="o">(</span><span class="n">msg</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">context</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span> <span class="k">=</span> <span class="nc">None</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">val</span> <span class="n">s</span> <span class="k">=</span> <span class="n">context</span> <span class="k">match</span> <span class="o">{</span>
    <span class="k">case</span> <span class="nc">Some</span><span class="o">(</span><span class="n">c</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">s</span><span class="s">&quot;[$c] $msg&quot;</span>
    <span class="k">case</span> <span class="nc">None</span> <span class="k">=&gt;</span> <span class="n">msg</span>
  <span class="o">}</span>
  <span class="n">println</span><span class="o">(</span><span class="n">s</span><span class="o">)</span>
<span class="o">}</span>

<span class="n">log</span><span class="o">(</span><span class="s">&quot;First message&quot;</span><span class="o">)</span>
<span class="n">log</span><span class="o">(</span><span class="s">&quot;Second message&quot;</span><span class="o">,</span> <span class="nc">Some</span><span class="o">(</span><span class="s">&quot;debug&quot;</span><span class="o">))</span></code></pre></div>
</div>
</div>

<p>Pattern matching works nicely with <code>Option</code>, but there are more powerful ways to use it. Let’s rewrite the previous
function another way giving us the same result.</p>

<div class="row">
<div class="col-md-9"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">def</span> <span class="n">log</span><span class="o">(</span><span class="n">msg</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">context</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span> <span class="k">=</span> <span class="nc">None</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">val</span> <span class="n">s</span> <span class="k">=</span> <span class="n">context</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="n">c</span> <span class="k">=&gt;</span> <span class="n">s</span><span class="s">&quot;[$c] $msg&quot;</span><span class="o">).</span><span class="n">getOrElse</span><span class="o">(</span><span class="n">msg</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="n">s</span><span class="o">)</span>
<span class="o">}</span></code></pre></div>
</div>
</div>

<p>Whoa, quite a reduction in code size! Next let’s see how we can process a sequence of option values.</p>

<div class="row">
<div class="col-md-6"><h6 class="code-block-header">ES6</h6><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="mi">7</span><span class="p">];</span>
<span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">x</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">);</span></code></pre></div>
</div>
        
<div class="col-md-6"><h6 class="code-block-header">Scala</h6><div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">data</span> <span class="k">=</span> <span class="nc">Array</span><span class="o">(</span><span class="nc">Some</span><span class="o">(</span><span class="mi">1</span><span class="o">),</span> <span class="nc">Some</span><span class="o">(</span><span class="mi">2</span><span class="o">),</span> <span class="nc">Some</span><span class="o">(</span><span class="mi">3</span><span class="o">),</span> 
  <span class="nc">None</span><span class="o">,</span> <span class="nc">Some</span><span class="o">(</span><span class="mi">5</span><span class="o">),</span> <span class="nc">None</span><span class="o">,</span> <span class="nc">Some</span><span class="o">(</span><span class="mi">7</span><span class="o">))</span>
<span class="k">val</span> <span class="n">res</span> <span class="k">=</span> <span class="n">data</span><span class="o">.</span><span class="n">filter</span><span class="o">(</span><span class="n">x</span> <span class="k">=&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">isDefined</span><span class="o">)</span></code></pre></div>
</div>
</div>

<p><code>Option</code> provides many <em>collection like</em> methods like <code>map</code>, <code>filter</code> and <code>flatMap</code>, which are discussed in the <a href="es6_to_scala_part2.html">next
chapter</a>.</p>

            <div class="spacing"></div>
        </div>
        <div class="col-md-3">
            <nav class="toc" role="navigation">
                
<ul>
    
    <li>
        <a href="/sjs2/doc/">
            
            Introduction
            
        </a>
    </li>
    
    
    <li>
        <a href="/sjs2/doc/why-scalajs.html">
            
            Why Scala.js?
            
        </a>
    </li>
    
    
    <li>
        <a href="/sjs2/doc/sjs_for_js/">
            
            Scala.js for JavaScript developers
            
        </a>
    </li>
    
      
<ul>
    
    <li>
        <a href="/sjs2/doc/sjs_for_js/es6_to_scala_part1.html">
            
            <b>From ES6 to Scala: Basics</b>
            
        </a>
    </li>
    
    
    <li>
        <a href="/sjs2/doc/sjs_for_js/es6_to_scala_part2.html">
            
            From ES6 to Scala: Collections
            
        </a>
    </li>
    
    
    <li>
        <a href="/sjs2/doc/sjs_for_js/es6_to_scala_part3.html">
            
            From ES6 to Scala: Advanced
            
        </a>
    </li>
    
    
</ul>

    
    
    <li>
        <a href="/sjs2/doc/project/">
            
            Project setup
            
        </a>
    </li>
    
    
    <li>
        <a href="/sjs2/doc/interoperability/">
            
            JavaScript interoperability
            
        </a>
    </li>
    
    
    <li>
        <a href="/sjs2/doc/api.html">
            
            Scala.js API
            
        </a>
    </li>
    
    
    <li>
        <a href="/sjs2/doc/semantics.html">
            
            Semantics of Scala.js
            
        </a>
    </li>
    
    
    <li>
        <a href="/sjs2/doc/internals/">
            
            Internals
            
        </a>
    </li>
    
    
    <li>
        <a href="/sjs2/doc/faq.html">
            
            FAQ
            
        </a>
    </li>
    
    
</ul>

            </nav>
        </div>
    </div>
</div>

</div>
</div>
<div id="footerwrap">
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <h4>LEARN</h4>

                <div class="hline-w"></div>
                <a class="grey-text text-lighten-3" href="/sjs2/doc">Documentation</a><br/>
                <a class="grey-text text-lighten-3" href="/sjs2/tutorial">Tutorial</a><br/>
                <a class="grey-text text-lighten-3" href="/sjs2/doc/faq.html">FAQ</a>
            </div>
            <div class="col-md-4">
                <h4>COMMUNITY</h4>

                <div class="hline-w"></div>
                <a class="grey-text text-lighten-3" href="https://gitter.im/scala-js/scala-js">Gitter chat</a><br/>
                <a class="grey-text text-lighten-3" href="http://stackoverflow.com/questions/tagged/scala.js">Stackoverflow</a><br/>
                <a class="grey-text text-lighten-3" href="https://groups.google.com/forum/?fromgroups#!forum/scala-js">Mailing list</a>
            </div>
            <div class="col-md-4">
            </div>
        </div>
    </div>
</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="/sjs2/assets/js/bootstrap.min.js"></script>
<script src="/sjs2/assets/js/highlight.pack.js"></script>
<script src="/sjs2/assets/js/custom.js"></script>
<script>
</script>

</body>
</html>